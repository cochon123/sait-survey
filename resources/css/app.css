@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== SAIT Survey Design System ===== */

:root {
  /* Base color values - Neutral palette with subtle lilac tint */
  --hue-n: 250;
  --sat-n: 5%;
  
  /* Brand color values - Yellow accent */
  --hue-b: 60;
  --sat-b: 90%;
  
  /* Dark mode colors (default) */
  --bg-dark: hsl(var(--hue-n), var(--sat-n), 5%);
  --bg: hsl(var(--hue-n), var(--sat-n), 10%);
  --bg-light: hsl(var(--hue-n), var(--sat-n), 15%);
  --text: hsl(var(--hue-n), var(--sat-n), 95%);
  --text-muted: hsl(var(--hue-n), var(--sat-n), 70%);
  --brand: hsl(var(--hue-b), var(--sat-b), 55%);
  
  /* Shadow variables for depth */
  --shadow-s: 0 2px 4px hsla(0, 0%, 0%, 0.1), 0 1px 0 hsla(0, 0%, 100%, 0.1);
  --shadow-m: 0 4px 8px hsla(0, 0%, 0%, 0.15), 0 2px 0 hsla(0, 0%, 100%, 0.1);
  --shadow-inset-light: inset 0 1px 0 hsl(0, 0%, 100%);
  --shadow-inset-dark: inset 0 -1px 0 hsla(0, 0%, 0%, 0.4);
}

/* Light mode colors */
body.light {
  --sat-n: 0%;
  --bg-dark: hsl(var(--hue-n), var(--sat-n), 85%);
  --bg: hsl(var(--hue-n), var(--sat-n), 90%);
  --bg-light: hsl(var(--hue-n), var(--sat-n), 95%);
  --text: hsl(var(--hue-n), var(--sat-n), 0%);
  --text-muted: hsl(var(--hue-n), var(--sat-n), 30%);
  --brand: hsl(var(--hue-b), var(--sat-b), 45%);
}

/* Base layer styling */
body {
  background-color: var(--bg-dark);
  color: var(--text);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Frosted glass utility classes */
.frosted-card {
  background: hsla(var(--hue-n), var(--sat-n), 10%, 0.9);
  box-shadow: var(--shadow-m);
  backdrop-filter: blur(10px);
  border-radius: 1rem;
  border: 1px solid hsla(var(--hue-n), var(--sat-n), 50%, 0.1);
}

body.light .frosted-card {
  background: hsla(var(--hue-n), var(--sat-n), 90%, 0.9);
}

.frosted-input {
  background: hsla(var(--hue-n), var(--sat-n), 15%, 0.9);
  box-shadow: var(--shadow-s), var(--shadow-inset-light);
  backdrop-filter: blur(8px);
  border: 1px solid hsla(var(--hue-n), var(--sat-n), 50%, 0.2);
}

body.light .frosted-input {
  background: hsla(var(--hue-n), var(--sat-n), 95%, 0.9);
}

.depth-layer-1 {
  background-color: var(--bg-dark);
}

.depth-layer-2 {
  background-color: var(--bg);
  box-shadow: var(--shadow-m);
}

.depth-layer-3 {
  background-color: var(--bg-light);
  box-shadow: var(--shadow-s);
}

/* Text utilities */
.text-primary {
  color: var(--text);
}

.text-muted {
  color: var(--text-muted);
}

.text-brand {
  color: var(--brand);
}

/* Button styles */
.btn-primary {
  background: hsla(var(--hue-b), var(--sat-b), 55%, 0.9);
  color: hsl(0, 0%, 10%);
  box-shadow: var(--shadow-s);
  backdrop-filter: blur(8px);
  border: 1px solid hsla(var(--hue-b), var(--sat-b), 50%, 0.2);
  border-radius: 0.5rem;
  padding: 0.75rem 1.5rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

body.light .btn-primary {
  background: hsla(var(--hue-b), var(--sat-b), 45%, 0.9);
}

.btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-m);
}

.btn-secondary {
  background: hsla(var(--hue-n), var(--sat-n), 15%, 0.9);
  color: var(--text);
  box-shadow: var(--shadow-s);
  backdrop-filter: blur(8px);
  border: 1px solid hsla(var(--hue-n), var(--sat-n), 50%, 0.2);
  border-radius: 0.5rem;
  padding: 0.75rem 1.5rem;
  font-weight: 500;
  transition: all 0.2s ease;
}

body.light .btn-secondary {
  background: hsla(var(--hue-n), var(--sat-n), 85%, 0.9);
}

.btn-secondary:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-m);
}

/* Form inputs */
.form-input {
  background: hsla(var(--hue-n), var(--sat-n), 15%, 0.9);
  color: var(--text);
  border: 1px solid hsla(var(--hue-n), var(--sat-n), 50%, 0.2);
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  backdrop-filter: blur(8px);
  box-shadow: var(--shadow-inset-light);
  transition: all 0.2s ease;
}

body.light .form-input {
  background: hsla(var(--hue-n), var(--sat-n), 85%, 0.9);
}

.form-input:focus {
  outline: none;
  border-color: var(--brand);
  box-shadow: var(--shadow-s), 0 0 0 3px hsla(var(--hue-b), var(--sat-b), 55%, 0.1);
}

/* Sticky elements */
.sticky {
  position: sticky;
  backdrop-filter: blur(15px);
}

/* Sticky header, input, and filter - transparent with backdrop blur only */
.sticky-header,
.sticky-input,
.sticky-filter {
  background: hsla(var(--hue-n), var(--sat-n), 10%, 0.7);
  backdrop-filter: blur(20px);
  border-radius: 1rem;
}

body.light .sticky-header,
body.light .sticky-input,
body.light .sticky-filter {
  background: hsla(var(--hue-n), var(--sat-n), 90%, 0.7);
}

/* Smooth transitions for theme switching */
* {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

/* ===== Vote Animation Styles ===== */

/* Upvote celebration animation */
@keyframes upvote-celebrate {
  0% {
    transform: scale(1);
  }
  25% {
    transform: scale(1.1) rotate(-5deg);
  }
  50% {
    transform: scale(1.15) rotate(5deg);
  }
  75% {
    transform: scale(1.05) rotate(-2deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
  }
}

@keyframes upvote-glow {
  0% {
    box-shadow: 0 0 0 rgba(34, 197, 94, 0);
  }
  50% {
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.4);
  }
  100% {
    box-shadow: 0 0 0 rgba(34, 197, 94, 0);
  }
}

@keyframes upvote-hearts {
  0% {
    opacity: 0;
    transform: translateY(0) scale(0);
  }
  20% {
    opacity: 1;
    transform: translateY(-10px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-30px) scale(0.5);
  }
}

.upvote-animate {
  animation: upvote-celebrate 0.6s ease-out, upvote-glow 0.8s ease-out;
}

.upvote-hearts {
  position: relative;
}

.upvote-hearts::after {
  content: 'ðŸ’š';
  position: absolute;
  top: -5px;
  left: 50%;
  transform: translateX(-50%);
  animation: upvote-hearts 1s ease-out;
  pointer-events: none;
  z-index: 10;
}

/* Subtle animation for downvote (less prominent) */
@keyframes downvote-pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

.downvote-animate {
  animation: downvote-pulse 0.3s ease-out;
}

/* Vote button states - override frosted-input when voted */
.upvote-btn[data-user-voted="true"] {
  background: #bbf7d0 !important; /* bg-green-200 */
  border-color: #86efac !important; /* border-green-300 */
}

.upvote-btn[data-user-voted="true"] svg {
  color: #166534 !important; /* text-green-800 */
}

.upvote-btn[data-user-voted="true"] .upvote-count {
  color: #14532d !important; /* text-green-900 */
}

.downvote-btn[data-user-voted="true"] {
  background: #fecaca !important; /* bg-red-200 */
  border-color: #fca5a5 !important; /* border-red-300 */
}

.downvote-btn[data-user-voted="true"] svg {
  color: #991b1b !important; /* text-red-800 */
}

.downvote-btn[data-user-voted="true"] .downvote-count {
  color: #7f1d1d !important; /* text-red-900 */
}

/* Light mode adjustments */
body.light .upvote-btn[data-user-voted="true"] {
  background: #bbf7d0 !important;
  border-color: #86efac !important;
}

body.light .downvote-btn[data-user-voted="true"] {
  background: #fecaca !important;
  border-color: #fca5a5 !important;
}
